#parse("include/init_var.vm")
//
// GENERATED CODE DO NOT UPDATE
// Patterns : DBContext for Entity Framework
// Created on $today.date - Time $today.time 
// Generated by : $bundle.name 
// Generated by : $generator.name $generator.version
//
$env.setLanguage('C#')
using Microsoft.EntityFrameworkCore;
using System;
using System.Collections.Generic;
using System.Data.Entity;

namespace ${NAMESPACE}.Models
{
	public class EntitiesDbContext : DbContext
	{
		public EntitiesDbContext()
		{
        	var path = Environment.CurrentDirectory;
        	DbPath = System.IO.Path.Join(path, "${NAMESPACE}.db");
		}

		protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
		{
			// $$$ optionsBuilder.UseSqlServer(Server=(localdb)\mssqllocaldb;Database=${NAMESPACE};Trusted_Connection=True");
        	optionsBuilder.UseSqlite($"Data Source={DbPath}");
		}

		// Database path
    	public string DbPath { get; }

#foreach( $entity in $selectedEntities )
		public DbSet<${entity.name}> ${entity.name}s { get; set; }
#end
	}
}
